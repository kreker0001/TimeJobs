{% extends "base.html" %}
{% block title %}Мои отклики — Time Jobs{% endblock %}

{% block content %}
<div class="profile-page">
    <div class="profile-inner">

        <!-- Заголовок страницы -->
        <div class="profile-hero">
            <div class="profile-hero-left">
                <div>
                    <h1 class="text-18-600" style="font-size: 24px;">Мои отклики</h1>
                    <p class="profile-text" style="font-size: 13px; color: hsl(var(--twc-grey-400));">
                        Здесь отображаются все ваши отклики на вакансии.
                    </p>
                </div>
            </div>
        </div>

        {% if not applications %}
        <div class="glass-card"
             style="padding: 20px; border-radius: 18px; border: 1px solid rgba(255,255,255,0.06); color: hsl(var(--twc-grey-200));">
            Вы ещё не откликались ни на одну вакансию.
        </div>

        {% else %}

        <div style="display: flex; flex-direction: column; gap: 16px; margin-top: 15px;">

            {% for app in applications %}
            <div class="glass-card"
                 style="
                    padding: 18px 20px;
                    border-radius: 18px;
                    border: 1px solid rgba(255,255,255,0.06);
                    display: flex;
                    justify-content: space-between;
                    align-items: flex-start;
                    gap: 16px;
                 ">

                <!-- Левая часть: информация о вакансии -->
                <div>
                    <div class="text-18-600" style="font-size: 16px; margin-bottom: 4px;">
                        {{ app.job.title }}
                    </div>

                    <div class="profile-text" style="font-size: 13px; color: hsl(var(--twc-grey-400));">
                        {{ app.job.city or 'Город не указан' }} • {{ app.job.specialization or 'Специализация не указана' }}
                    </div>

                    {% if app.note %}
                    <div class="profile-text" style="font-size: 12px; color: hsl(var(--twc-grey-300)); margin-top: 6px;">
                        Ваш комментарий: "{{ app.note }}"
                    </div>
                    {% endif %}
                </div>

                <!-- Правая часть: дата и статус -->
                <div style="text-align: right;">
                    <div style="font-size: 12px; color: hsl(var(--twc-grey-400));">
                        {{ app.created_at.strftime('%d.%m.%Y') }}
                    </div>

                    <div style="margin-top: 3px; font-size: 12px; color:
                        {% if app.status == 'approved' %} #4CFA00
                        {% elif app.status == 'pending' %} #FACC15
                        {% else %} #A8B3CF
                        {% endif %}
                    ;">
                        Статус: {{ app.status }}
                    </div>
                </div>

            </div>
            {% endfor %}

        </div>
        {% endif %}

    </div>
</div>
{% endblock %}
